<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>jsonp封装</title>
</head>
<body>

<input type="text" id="txt"><button id="btn">搜索</button>
<ul id="ul"></ul>

<script type="text/javascript">

txt.onkeyup = async function(){
	try{
		let data = await jsonp({
			url:'https://sp0.baidu.com/5a1Fazu8AA54nxGko9WTAnF6hhy/su',
			data:{
				wd:this.value
			},
			callback:'cb'
		})
		let html = '';
		ul.innerHTML = '';
		data.s.forEach(e=>{
			html += `<li>${e}</li>`;
		})
		ul.innerHTML = html;
	}catch(error){
		console.log(error);
	}
}

</script>

</body>
</html>